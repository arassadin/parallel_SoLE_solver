#include"matrix_multiplicator.h"

double** multiply(double** m1, m_size size_m1, double** m2, m_size size_m2)
{
	double** result;
	if(size_m1.hor==size_m2.vert)
	{
		int vert=size_m1.vert;
		int hor=size_m2.hor;
		result=new double*[vert];
		for(int i=0; i<size_m1.vert; i++)
			result[i]=new double[hor];
		for(int j=0; j<size_m2.hor; j++)
		{
			for(int i=0; i<size_m1.vert; i++)
			{
				double tmp_res=0.0;
				for(int k=0; k<size_m2.vert; k++)
				{
					tmp_res+=m1[i][k]*m2[k][j];
				}
				result[i][j]=tmp_res;
			}
		}
	}
	else
		result=NULL;
		
	return result;
}
